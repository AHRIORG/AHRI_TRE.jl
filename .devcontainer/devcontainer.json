{
  "name": "Julia + DuckDB Dev",
  "build": {
    "dockerfile": "Dockerfile",
    "context": ".."
  },

  "workspaceFolder": "/workspace",
  "workspaceMount": "source=${localWorkspaceFolder},target=/workspace,type=bind",

  "mounts": [
    "source=${localEnv:HOST_DATA_DIR},target=/host_data,type=bind"
  ],

  "runArgs": [
    "--env-file", ".env",
    "--privileged"
  ],

  "postCreateCommand": "bash /workspace/.devcontainer/post-create.sh",
  "postStartCommand": "bash /workspace/.devcontainer/mount-samba.sh",

  "remoteUser": "root",

  "customizations": {
    "vscode": {
      "extensions": [
        "julialang.language-julia"
      ],
      "settings": {
        "julia.executablePath": "/usr/local/julia/bin/julia",
        "julia.environmentPath": "$workspaceFolder"
      }
    }
  }
}
